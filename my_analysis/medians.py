import numpy as np
from timing_corrections import RELEVANT_CHANNELS
import matplotlib.pyplot as plt

# ran over all data
disk_d_phase_3 = {'adc_b1_ch1': np.float64(8.17469296510543), 'adc_b1_ch2': np.float64(5.186643662559864), 'adc_b1_ch3': np.float64(6.201356352193651), 'adc_b1_ch4': np.float64(2.1067109967733826), 'adc_b1_ch5': np.float64(6.200320543140785), 'adc_b1_ch6': np.float64(6.164750654260878), 'adc_b1_ch7': np.float64(4.573135825892858), 'adc_b1_ch8': np.float64(4.0562076829297915), 'adc_b1_ch9': np.float64(4.543011004772037), 'adc_b1_ch10': np.float64(4.870957606930813), 'adc_b1_ch11': np.float64(6.255311133716411), 'adc_b1_ch12': np.float64(4.044428329799025), 'adc_b1_ch13': np.float64(3.629390456360573), 'adc_b1_ch14': np.float64(4.540383185532406), 'adc_b1_ch15': np.float64(5.552410793885976), 'adc_b2_ch0': np.float64(6.3173932768957535), 'adc_b2_ch1': np.float64(4.606475357255857), 'adc_b2_ch2': np.float64(4.643967856706143), 'adc_b2_ch3': np.float64(4.231792649368455), 'adc_b2_ch4': np.float64(3.2736746947534643), 'adc_b2_ch5': np.float64(3.885704866706652), 'adc_b2_ch6': np.float64(6.9940572648637325), 'adc_b2_ch7': np.float64(5.217294750677853), 'adc_b2_ch8': np.float64(1.5421211145380598), 'adc_b2_ch9': np.float64(5.005660803848265), 'adc_b2_ch10': np.float64(6.094623877043237), 'adc_b2_ch11': np.float64(5.885220575629218), 'adc_b2_ch12': np.float64(4.58268350252082), 'adc_b2_ch13': np.float64(4.8002593946404915), 'adc_b2_ch14': np.float64(3.4505071336563127), 'adc_b3_ch0': np.float64(4.197160929868502), 'adc_b3_ch1': np.float64(2.322213316799298), 'adc_b3_ch2': np.float64(4.358493407650539), 'adc_b3_ch3': np.float64(6.820691137925172), 'adc_b3_ch4': np.float64(2.0839426172655258), 'adc_b3_ch5': np.float64(2.5755675852992286), 'adc_b3_ch6': np.float64(4.702917036266326), 'adc_b3_ch7': np.float64(3.7967082749392764), 'adc_b3_ch8': np.float64(4.312958232582217), 'adc_b3_ch9': np.float64(5.313515285249755), 'adc_b3_ch10': np.float64(3.2412470046434025), 'adc_b3_ch11': np.float64(4.571267301605724), 'adc_b3_ch12': np.float64(3.139321185553217), 'adc_b3_ch13': np.float64(4.138175190325963), 'adc_b3_ch14': np.float64(4.014675704409384), 'adc_b3_ch15': np.float64(1.9455437481029687), 'adc_b4_ch0': np.float64(3.6937361870740024), 'adc_b4_ch1': np.float64(3.166378971915414), 'adc_b4_ch2': np.float64(5.457251402137906), 'adc_b4_ch3': np.float64(4.69850973301725), 'adc_b4_ch4': np.float64(2.8768879240291847), 'adc_b4_ch5': np.float64(2.856475728141436), 'adc_b4_ch6': np.float64(3.8842032960596318), 'adc_b4_ch7': np.float64(4.898285115642928), 'adc_b4_ch8': np.float64(11.133728280911738), 'adc_b4_ch9': np.float64(3.357828379481782), 'adc_b4_ch10': np.float64(4.713753125167594), 'adc_b4_ch11': np.float64(4.931549415140022)}
disk_a_phase_6 = {'adc_b1_ch1': np.float64(7.905052092188294), 'adc_b1_ch2': np.float64(5.1269409596563), 'adc_b1_ch3': np.float64(6.164903477822955), 'adc_b1_ch4': np.float64(2.1004639981815343), 'adc_b1_ch5': np.float64(6.208830301427904), 'adc_b1_ch6': np.float64(6.1586018532771405), 'adc_b1_ch7': np.float64(4.560338956366716), 'adc_b1_ch8': np.float64(4.06210140411687), 'adc_b1_ch9': np.float64(4.482094143855246), 'adc_b1_ch10': np.float64(4.883846596908325), 'adc_b1_ch11': np.float64(6.23844734076129), 'adc_b1_ch12': np.float64(4.0737490408404895), 'adc_b1_ch13': np.float64(3.7094163587669917), 'adc_b1_ch14': np.float64(4.56534383064492), 'adc_b1_ch15': np.float64(5.575457844629717), 'adc_b2_ch0': np.float64(6.316027580305043), 'adc_b2_ch1': np.float64(4.637910802002108), 'adc_b2_ch2': np.float64(4.637968900003005), 'adc_b2_ch3': np.float64(4.244736120248714), 'adc_b2_ch4': np.float64(3.3432549054626692), 'adc_b2_ch5': np.float64(3.9274431749100867), 'adc_b2_ch6': np.float64(7.003160298432254), 'adc_b2_ch7': np.float64(5.219244315575951), 'adc_b2_ch8': np.float64(1.629938001476984), 'adc_b2_ch9': np.float64(5.088787835120151), 'adc_b2_ch10': np.float64(6.108386433398582), 'adc_b2_ch11': np.float64(5.929291640220881), 'adc_b2_ch12': np.float64(4.570772953177095), 'adc_b2_ch13': np.float64(4.800994692995246), 'adc_b2_ch14': np.float64(3.453154826756954), 'adc_b3_ch0': np.float64(4.265325515084882), 'adc_b3_ch1': np.float64(2.420974022949656), 'adc_b3_ch2': np.float64(4.4047714933529365), 'adc_b3_ch3': np.float64(6.873638190872219), 'adc_b3_ch4': np.float64(2.111453166671159), 'adc_b3_ch5': np.float64(2.5746268843027624), 'adc_b3_ch6': np.float64(4.775332886460019), 'adc_b3_ch7': np.float64(3.929356943532837), 'adc_b3_ch8': np.float64(4.393448756551036), 'adc_b3_ch9': np.float64(5.334325202770506), 'adc_b3_ch10': np.float64(3.2233805848923582), 'adc_b3_ch11': np.float64(4.59903828798698), 'adc_b3_ch12': np.float64(3.264616959653142), 'adc_b3_ch13': np.float64(4.147108518674653), 'adc_b3_ch14': np.float64(4.091330688832996), 'adc_b3_ch15': np.float64(1.9994373075198748), 'adc_b4_ch0': np.float64(3.7525001785005334), 'adc_b4_ch1': np.float64(3.196273600849146), 'adc_b4_ch2': np.float64(5.511820958098731), 'adc_b4_ch3': np.float64(4.642158641394634), 'adc_b4_ch4': np.float64(2.9299312829336452), 'adc_b4_ch5': np.float64(2.864814360115861), 'adc_b4_ch6': np.float64(3.908462056167473), 'adc_b4_ch7': np.float64(4.976829176945678), 'adc_b4_ch8': np.float64(11.167538747478615), 'adc_b4_ch9': np.float64(3.340344188741392), 'adc_b4_ch10': np.float64(4.77396429865062), 'adc_b4_ch11': np.float64(4.979299333242647)}
disk_b_phase_6 = {'adc_b1_ch1': np.float64(7.997536691936341), 'adc_b1_ch2': np.float64(5.186972988673138), 'adc_b1_ch3': np.float64(6.162731242372198), 'adc_b1_ch4': np.float64(2.097338264434792), 'adc_b1_ch5': np.float64(6.151482815266897), 'adc_b1_ch6': np.float64(6.199484486544783), 'adc_b1_ch7': np.float64(4.52824685951209), 'adc_b1_ch8': np.float64(4.042732624342673), 'adc_b1_ch9': np.float64(4.524829186590235), 'adc_b1_ch10': np.float64(4.910827599576533), 'adc_b1_ch11': np.float64(6.273922723376522), 'adc_b1_ch12': np.float64(4.1037986938683915), 'adc_b1_ch13': np.float64(3.6750188835246766), 'adc_b1_ch14': np.float64(4.604492239078198), 'adc_b1_ch15': np.float64(5.585254687624207), 'adc_b2_ch0': np.float64(6.288302416922644), 'adc_b2_ch1': np.float64(4.6248477108943975), 'adc_b2_ch2': np.float64(4.668370959816815), 'adc_b2_ch3': np.float64(4.271910290164779), 'adc_b2_ch4': np.float64(3.3106640691656652), 'adc_b2_ch5': np.float64(3.883434862588393), 'adc_b2_ch6': np.float64(7.0077825999678165), 'adc_b2_ch7': np.float64(5.2109666380374495), 'adc_b2_ch8': np.float64(1.569376223297792), 'adc_b2_ch9': np.float64(5.059404016644386), 'adc_b2_ch10': np.float64(6.136755227724766), 'adc_b2_ch11': np.float64(5.921716925994146), 'adc_b2_ch12': np.float64(4.549729535810184), 'adc_b2_ch13': np.float64(4.811794409485017), 'adc_b2_ch14': np.float64(3.4360855958520027), 'adc_b3_ch0': np.float64(4.2414462447376735), 'adc_b3_ch1': np.float64(2.3266445118514754), 'adc_b3_ch2': np.float64(4.413816624738442), 'adc_b3_ch3': np.float64(6.84299707626173), 'adc_b3_ch4': np.float64(2.1121780910846915), 'adc_b3_ch5': np.float64(2.5654967310543557), 'adc_b3_ch6': np.float64(4.734414345541422), 'adc_b3_ch7': np.float64(3.94635186983541), 'adc_b3_ch8': np.float64(4.355734602244864), 'adc_b3_ch9': np.float64(5.354911198033895), 'adc_b3_ch10': np.float64(3.275614760619864), 'adc_b3_ch11': np.float64(4.6015050321440985), 'adc_b3_ch12': np.float64(3.2113274152334723), 'adc_b3_ch13': np.float64(4.149789171665642), 'adc_b3_ch14': np.float64(4.052581430156962), 'adc_b3_ch15': np.float64(2.028629382607553), 'adc_b4_ch0': np.float64(3.744579187875367), 'adc_b4_ch1': np.float64(3.151097143438598), 'adc_b4_ch2': np.float64(5.514100614613888), 'adc_b4_ch3': np.float64(4.668843097947832), 'adc_b4_ch4': np.float64(2.898374428193571), 'adc_b4_ch5': np.float64(2.888478541575569), 'adc_b4_ch6': np.float64(3.926136142819694), 'adc_b4_ch7': np.float64(4.947930251495002), 'adc_b4_ch8': np.float64(11.155922479488323), 'adc_b4_ch9': np.float64(3.3697157734407823), 'adc_b4_ch10': np.float64(4.760782828137943), 'adc_b4_ch11': np.float64(4.980037194285398)}
disk_e_phase_4 = {'adc_b1_ch1': np.float64(8.062703184925136), 'adc_b1_ch2': np.float64(5.13455002485775), 'adc_b1_ch3': np.float64(6.243239077452509), 'adc_b1_ch4': np.float64(2.1009017876412726), 'adc_b1_ch5': np.float64(6.210172279146045), 'adc_b1_ch6': np.float64(6.14265554301236), 'adc_b1_ch7': np.float64(4.563607784818667), 'adc_b1_ch8': np.float64(4.073010722088181), 'adc_b1_ch9': np.float64(4.53057631302698), 'adc_b1_ch10': np.float64(4.909610939058735), 'adc_b1_ch11': np.float64(6.279095596148913), 'adc_b1_ch12': np.float64(4.146495701623856), 'adc_b1_ch13': np.float64(3.6369731769488047), 'adc_b1_ch14': np.float64(4.582645709893271), 'adc_b1_ch15': np.float64(5.574665036601324), 'adc_b2_ch0': np.float64(6.353380682010023), 'adc_b2_ch1': np.float64(4.583527454460165), 'adc_b2_ch2': np.float64(4.658158262297564), 'adc_b2_ch3': np.float64(4.2356943572507895), 'adc_b2_ch4': np.float64(3.2859322997529548), 'adc_b2_ch5': np.float64(3.931757781651646), 'adc_b2_ch6': np.float64(6.99275040903729), 'adc_b2_ch7': np.float64(5.249554999146072), 'adc_b2_ch8': np.float64(1.5688776293328432), 'adc_b2_ch9': np.float64(5.037342703454648), 'adc_b2_ch10': np.float64(6.092501862042841), 'adc_b2_ch11': np.float64(5.932601802418744), 'adc_b2_ch12': np.float64(4.608845851047943), 'adc_b2_ch13': np.float64(4.844003848943956), 'adc_b2_ch14': np.float64(3.5418798651594123), 'adc_b3_ch0': np.float64(4.19852056522835), 'adc_b3_ch1': np.float64(2.355393404737504), 'adc_b3_ch2': np.float64(4.362661335061543), 'adc_b3_ch3': np.float64(6.837050469201648), 'adc_b3_ch4': np.float64(2.124590948121314), 'adc_b3_ch5': np.float64(2.597573846359768), 'adc_b3_ch6': np.float64(4.72746258586737), 'adc_b3_ch7': np.float64(3.8832489854566736), 'adc_b3_ch8': np.float64(4.319683441406367), 'adc_b3_ch9': np.float64(5.358242378212074), 'adc_b3_ch10': np.float64(3.1864487275371305), 'adc_b3_ch11': np.float64(4.5651662026962985), 'adc_b3_ch12': np.float64(3.1533498942065306), 'adc_b3_ch13': np.float64(4.146057687266019), 'adc_b3_ch14': np.float64(4.056727879530384), 'adc_b3_ch15': np.float64(2.0180532193940532), 'adc_b4_ch0': np.float64(3.711759437759817), 'adc_b4_ch1': np.float64(3.178164160076598), 'adc_b4_ch2': np.float64(5.496215906145331), 'adc_b4_ch3': np.float64(4.689000195655229), 'adc_b4_ch4': np.float64(2.880323402829796), 'adc_b4_ch5': np.float64(2.8719496159557596), 'adc_b4_ch6': np.float64(3.963177100173987), 'adc_b4_ch7': np.float64(4.942281278303547), 'adc_b4_ch8': np.float64(11.15370660091237), 'adc_b4_ch9': np.float64(3.3367523325806245), 'adc_b4_ch10': np.float64(4.756111929154352), 'adc_b4_ch11': np.float64(4.963076810303743)}

# not all data
# disk_k_phase_8 = {'adc_b1_ch1': np.float64(7.2789115369563095), 'adc_b1_ch2': np.float64(4.265674901417602), 'adc_b1_ch3': np.float64(5.577876857913603), 'adc_b1_ch4': np.float64(1.4284791180383207), 'adc_b1_ch5': np.float64(5.296731497991809), 'adc_b1_ch6': np.float64(5.340305123402381), 'adc_b1_ch7': np.float64(3.9025018950943133), 'adc_b1_ch8': np.float64(3.3290378656346564), 'adc_b1_ch9': np.float64(3.8822186148534534), 'adc_b1_ch10': np.float64(4.168288706655699), 'adc_b1_ch11': np.float64(5.630742357458182), 'adc_b1_ch12': np.float64(3.176798321389193), 'adc_b1_ch13': np.float64(2.636501478835617), 'adc_b1_ch14': np.float64(3.757620661864749), 'adc_b1_ch15': np.float64(4.631693149051081), 'adc_b2_ch0': np.float64(5.75605868430716), 'adc_b2_ch1': np.float64(4.044198013242846), 'adc_b2_ch2': np.float64(3.99218481804873), 'adc_b2_ch3': np.float64(3.5072277504822256), 'adc_b2_ch4': np.float64(2.4646066520412377), 'adc_b2_ch5': np.float64(3.66884110571994), 'adc_b2_ch6': np.float64(6.0848446058413455), 'adc_b2_ch7': np.float64(4.18533454219572), 'adc_b2_ch8': np.float64(0.6521201336279718), 'adc_b2_ch9': np.float64(4.2890391970978285), 'adc_b2_ch10': np.float64(5.604685697013938), 'adc_b2_ch11': np.float64(4.4578664102193235), 'adc_b2_ch12': np.float64(4.123483970351583), 'adc_b2_ch13': np.float64(4.08831536665447), 'adc_b2_ch14': np.float64(2.5962437226528117), 'adc_b3_ch0': np.float64(3.442589791305678), 'adc_b3_ch1': np.float64(1.8936388527946293), 'adc_b3_ch2': np.float64(3.78653538627037), 'adc_b3_ch3': np.float64(6.2590435804617695), 'adc_b3_ch4': np.float64(1.3293031896334546), 'adc_b3_ch5': np.float64(1.8722080052467223), 'adc_b3_ch6': np.float64(4.0849637960908876), 'adc_b3_ch7': np.float64(3.185307466951911), 'adc_b3_ch8': np.float64(3.8904644028598887), 'adc_b3_ch9': np.float64(4.536421799322957), 'adc_b3_ch10': np.float64(2.506765320737249), 'adc_b3_ch11': np.float64(3.8746866259034163), 'adc_b3_ch12': np.float64(2.396616695331079), 'adc_b3_ch13': np.float64(3.417212658026241), 'adc_b3_ch14': np.float64(3.246248631680017), 'adc_b3_ch15': np.float64(1.5491054050894402), 'adc_b4_ch0': np.float64(3.024495294305304), 'adc_b4_ch1': np.float64(1.846731305030325), 'adc_b4_ch2': np.float64(4.771655634275369), 'adc_b4_ch3': np.float64(3.65562375904084), 'adc_b4_ch4': np.float64(2.160685653647371), 'adc_b4_ch5': np.float64(1.9705215421138749), 'adc_b4_ch6': np.float64(2.789913065890737), 'adc_b4_ch7': np.float64(3.7017333915049524), 'adc_b4_ch8': np.float64(10.297854690969485), 'adc_b4_ch9': np.float64(2.8341494076225557), 'adc_b4_ch10': np.float64(4.088753125167594), 'adc_b4_ch11': np.float64(4.251758108079468)}



# in order of date
dicts = [disk_d_phase_3, disk_e_phase_4, disk_b_phase_6, disk_a_phase_6,] #disk_k_phase_8]

combined = {key: [d[key] for d in dicts] for key in dicts[0]}

# for key, value in combined.items():
#     print("Max minus min for", key, max(value) - min(value))


PMT_channel_delay_dict = {}
for key, value in combined.items():
    PMT_channel_delay_dict[key] = np.median(value)
# for key in RELEVANT_CHANNELS:
#     ordered_median_delays = []
#     for i in range(len(dicts)):
#         ordered_median_delays.append(dicts[i][key])
#     plt.plot(ordered_median_delays)
print(PMT_channel_delay_dict)
        
