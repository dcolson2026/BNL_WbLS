import numpy as np
from timing_corrections import RELEVANT_CHANNELS
import matplotlib.pyplot as plt

disk_d_phase_3 = {'adc_b1_ch1': np.float64(7.8599166820699455), 'adc_b1_ch2': np.float64(4.137286938987036), 'adc_b1_ch3': np.float64(5.644250785766227), 'adc_b1_ch4': np.float64(1.462657718896561), 'adc_b1_ch5': np.float64(5.524071457554394), 'adc_b1_ch6': np.float64(5.361634790589996), 'adc_b1_ch7': np.float64(3.6835674622379413), 'adc_b1_ch8': np.float64(3.390311229257317), 'adc_b1_ch9': np.float64(3.885940297701321), 'adc_b1_ch10': np.float64(4.002313495863018), 'adc_b1_ch11': np.float64(5.574106652639436), 'adc_b1_ch12': np.float64(3.320579019516295), 'adc_b1_ch13': np.float64(2.660567554458799), 'adc_b1_ch14': np.float64(3.8732563463897947), 'adc_b1_ch15': np.float64(4.588544445020013), 'adc_b2_ch0': np.float64(5.442728560753036), 'adc_b2_ch1': np.float64(3.9751018069295414), 'adc_b2_ch2': np.float64(4.136925603184994), 'adc_b2_ch3': np.float64(3.500059291700946), 'adc_b2_ch4': np.float64(2.409477059087277), 'adc_b2_ch5': np.float64(3.493177895364232), 'adc_b2_ch6': np.float64(6.087048492681964), 'adc_b2_ch7': np.float64(4.307377616221844), 'adc_b2_ch8': np.float64(0.5501019868669745), 'adc_b2_ch9': np.float64(4.226312224499658), 'adc_b2_ch10': np.float64(5.452678782887947), 'adc_b2_ch11': np.float64(5.4711195711996785), 'adc_b2_ch12': np.float64(4.0094185548337125), 'adc_b2_ch13': np.float64(4.145734108375976), 'adc_b2_ch14': np.float64(2.622552189482885), 'adc_b3_ch0': np.float64(3.735615561714709), 'adc_b3_ch1': np.float64(1.5551534431313372), 'adc_b3_ch2': np.float64(3.2140240057581737), 'adc_b3_ch3': np.float64(6.078257895491964), 'adc_b3_ch4': np.float64(1.374420389212863), 'adc_b3_ch5': np.float64(1.82331911635784), 'adc_b3_ch6': np.float64(4.0035516253739), 'adc_b3_ch7': np.float64(3.0441831226363254), 'adc_b3_ch8': np.float64(3.696769092129441), 'adc_b3_ch9': np.float64(4.446983385368631), 'adc_b3_ch10': np.float64(2.349290556173959), 'adc_b3_ch11': np.float64(3.4661601019222643), 'adc_b3_ch12': np.float64(2.455403277551272), 'adc_b3_ch13': np.float64(3.493090299471359), 'adc_b3_ch14': np.float64(3.546909956377859), 'adc_b3_ch15': np.float64(1.4014240642244342), 'adc_b4_ch0': np.float64(2.6902360275571273), 'adc_b4_ch1': np.float64(2.0598379017257926), 'adc_b4_ch2': np.float64(4.401598405966077), 'adc_b4_ch3': np.float64(3.811661383040349), 'adc_b4_ch4': np.float64(2.039541912010301), 'adc_b4_ch5': np.float64(1.9065206786959155), 'adc_b4_ch6': np.float64(2.8619874781139676), 'adc_b4_ch7': np.float64(3.820727716397706), 'adc_b4_ch8': np.float64(10.245670058727297), 'adc_b4_ch9': np.float64(2.8612404232736366), 'adc_b4_ch10': np.float64(3.975830419853631), 'adc_b4_ch11': np.float64(4.328957530614854)}
disk_a_phase_6 = {'adc_b1_ch1': np.float64(7.550315762982416), 'adc_b1_ch2': np.float64(4.2279287488665505), 'adc_b1_ch3': np.float64(5.53162868564406), 'adc_b1_ch4': np.float64(1.5718373736644606), 'adc_b1_ch5': np.float64(5.429269081744232), 'adc_b1_ch6': np.float64(5.672484761812406), 'adc_b1_ch7': np.float64(3.9181178580786975), 'adc_b1_ch8': np.float64(3.46381735976686), 'adc_b1_ch9': np.float64(3.8145488127584564), 'adc_b1_ch10': np.float64(4.06312057496275), 'adc_b1_ch11': np.float64(5.367256670685542), 'adc_b1_ch12': np.float64(3.8182201752046656), 'adc_b1_ch13': np.float64(2.6135356769488047), 'adc_b1_ch14': np.float64(4.243382135723792), 'adc_b1_ch15': np.float64(4.771922561684939), 'adc_b2_ch0': np.float64(5.657053247743757), 'adc_b2_ch1': np.float64(3.9912637690502324), 'adc_b2_ch2': np.float64(3.945376307410373), 'adc_b2_ch3': np.float64(3.709190991919168), 'adc_b2_ch4': np.float64(2.5304652130317153), 'adc_b2_ch5': np.float64(3.6054641898887834), 'adc_b2_ch6': np.float64(6.1581988684208735), 'adc_b2_ch7': np.float64(4.865275523163506), 'adc_b2_ch8': np.float64(0.738706578910052), 'adc_b2_ch9': np.float64(4.200789360267073), 'adc_b2_ch10': np.float64(5.4188065097760365), 'adc_b2_ch11': np.float64(5.29138682467591), 'adc_b2_ch12': np.float64(4.0217485316245645), 'adc_b2_ch13': np.float64(4.043953250192047), 'adc_b2_ch14': np.float64(2.429053512777241), 'adc_b3_ch0': np.float64(3.2142201458965327), 'adc_b3_ch1': np.float64(1.5787733623920759), 'adc_b3_ch2': np.float64(3.32783006285234), 'adc_b3_ch3': np.float64(6.209936881382594), 'adc_b3_ch4': np.float64(1.3566434573514434), 'adc_b3_ch5': np.float64(2.059819553803169), 'adc_b3_ch6': np.float64(3.95109370578511), 'adc_b3_ch7': np.float64(3.2043085739745996), 'adc_b3_ch8': np.float64(3.828900261567694), 'adc_b3_ch9': np.float64(4.5314879480281345), 'adc_b3_ch10': np.float64(2.434797802550851), 'adc_b3_ch11': np.float64(3.767981411743301), 'adc_b3_ch12': np.float64(2.331734878131715), 'adc_b3_ch13': np.float64(2.6995658724446767), 'adc_b3_ch14': np.float64(3.562044925820529), 'adc_b3_ch15': np.float64(1.5216296484041916), 'adc_b4_ch0': np.float64(2.704113081726384), 'adc_b4_ch1': np.float64(2.0354747883796236), 'adc_b4_ch2': np.float64(4.456335548544139), 'adc_b4_ch3': np.float64(3.7450287508165627), 'adc_b4_ch4': np.float64(1.9576182880873114), 'adc_b4_ch5': np.float64(1.6992223432285303), 'adc_b4_ch6': np.float64(2.7277897872599444), 'adc_b4_ch7': np.float64(3.821243571830856), 'adc_b4_ch8': np.float64(10.369953603527234), 'adc_b4_ch9': np.float64(2.809999951628208), 'adc_b4_ch10': np.float64(3.9260172761109775), 'adc_b4_ch11': np.float64(4.368435427926453)}

# used 50 files
disk_b_phase_6 = {'adc_b1_ch1': np.float64(7.9895436158749025), 'adc_b1_ch2': np.float64(4.397883828623454), 'adc_b1_ch3': np.float64(5.466468666733855), 'adc_b1_ch4': np.float64(1.4531179428062968), 'adc_b1_ch5': np.float64(5.46018892397303), 'adc_b1_ch6': np.float64(5.680855354057691), 'adc_b1_ch7': np.float64(3.963116626267559), 'adc_b1_ch8': np.float64(3.7011478688701476), 'adc_b1_ch9': np.float64(3.919218712302719), 'adc_b1_ch10': np.float64(4.053950701931467), 'adc_b1_ch11': np.float64(5.574917569091319), 'adc_b1_ch12': np.float64(3.4946922002103027), 'adc_b1_ch13': np.float64(3.3443432305072114), 'adc_b1_ch14': np.float64(3.9949691365846007), 'adc_b1_ch15': np.float64(4.611150134965591), 'adc_b2_ch0': np.float64(5.116254702369471), 'adc_b2_ch1': np.float64(4.054432414035188), 'adc_b2_ch2': np.float64(4.033825152294884), 'adc_b2_ch3': np.float64(3.633273302923722), 'adc_b2_ch4': np.float64(2.5551983872008863), 'adc_b2_ch5': np.float64(3.59695668842358), 'adc_b2_ch6': np.float64(6.179914072414766), 'adc_b2_ch7': np.float64(4.6545040530033805), 'adc_b2_ch8': np.float64(0.7267926909099574), 'adc_b2_ch9': np.float64(4.204334202521615), 'adc_b2_ch10': np.float64(5.673910217109128), 'adc_b2_ch11': np.float64(5.365833109295592), 'adc_b2_ch12': np.float64(3.9867337307600907), 'adc_b2_ch13': np.float64(4.2147521482635995), 'adc_b2_ch14': np.float64(3.293162390217585), 'adc_b3_ch0': np.float64(3.5554508396832456), 'adc_b3_ch1': np.float64(1.8474585478323093), 'adc_b3_ch2': np.float64(3.6095170768805334), 'adc_b3_ch3': np.float64(6.174840894418713), 'adc_b3_ch4': np.float64(1.2988886444503769), 'adc_b3_ch5': np.float64(1.8705122264985508), 'adc_b3_ch6': np.float64(4.130018741145859), 'adc_b3_ch7': np.float64(3.3628324078675567), 'adc_b3_ch8': np.float64(3.8822154609104564), 'adc_b3_ch9': np.float64(4.509963519965586), 'adc_b3_ch10': np.float64(2.4681703054885604), 'adc_b3_ch11': np.float64(3.7267239556452636), 'adc_b3_ch12': np.float64(2.4636975391267013), 'adc_b3_ch13': np.float64(3.3811676844812237), 'adc_b3_ch14': np.float64(3.1414845866449204), 'adc_b3_ch15': np.float64(1.319874462628027), 'adc_b4_ch0': np.float64(2.648902027092085), 'adc_b4_ch1': np.float64(2.0198844991182128), 'adc_b4_ch2': np.float64(4.3405691313063315), 'adc_b4_ch3': np.float64(3.690922268948601), 'adc_b4_ch4': np.float64(2.2136443371208054), 'adc_b4_ch5': np.float64(2.018295807078107), 'adc_b4_ch6': np.float64(2.6485458172847918), 'adc_b4_ch7': np.float64(3.9975243476311633), 'adc_b4_ch8': np.float64(10.34488219762427), 'adc_b4_ch9': np.float64(2.9208088447218983), 'adc_b4_ch10': np.float64(4.099047242814644), 'adc_b4_ch11': np.float64(4.208917645646078)}
disk_e_phase_4 = {'adc_b1_ch1': np.float64(8.202780422258764), 'adc_b1_ch2': np.float64(4.15740906506655), 'adc_b1_ch3': np.float64(5.574034508625212), 'adc_b1_ch4': np.float64(1.6646213698540704), 'adc_b1_ch5': np.float64(5.463295982399197), 'adc_b1_ch6': np.float64(5.409302133389168), 'adc_b1_ch7': np.float64(3.840291574772958), 'adc_b1_ch8': np.float64(3.6603060462202524), 'adc_b1_ch9': np.float64(3.9320148153327033), 'adc_b1_ch10': np.float64(4.022003414718097), 'adc_b1_ch11': np.float64(5.6294167752769155), 'adc_b1_ch12': np.float64(3.578252380637942), 'adc_b1_ch13': np.float64(3.498771856816807), 'adc_b1_ch14': np.float64(3.9224651796362338), 'adc_b1_ch15': np.float64(4.477229139165367), 'adc_b2_ch0': np.float64(5.814605052620603), 'adc_b2_ch1': np.float64(3.8400573742994597), 'adc_b2_ch2': np.float64(4.004392700853049), 'adc_b2_ch3': np.float64(3.5197659369335343), 'adc_b2_ch4': np.float64(2.440924755079192), 'adc_b2_ch5': np.float64(3.4680551522310505), 'adc_b2_ch6': np.float64(6.279166584151886), 'adc_b2_ch7': np.float64(4.4218622173912525), 'adc_b2_ch8': np.float64(0.5562226656374891), 'adc_b2_ch9': np.float64(4.390060400442941), 'adc_b2_ch10': np.float64(5.533503195204535), 'adc_b2_ch11': np.float64(5.223829872594265), 'adc_b2_ch12': np.float64(3.823714129647681), 'adc_b2_ch13': np.float64(4.054752148263631), 'adc_b2_ch14': np.float64(2.3487808276720124), 'adc_b3_ch0': np.float64(3.33736112797645), 'adc_b3_ch1': np.float64(1.6667315660917326), 'adc_b3_ch2': np.float64(3.423351974027864), 'adc_b3_ch3': np.float64(6.211281679459097), 'adc_b3_ch4': np.float64(1.3518561473109876), 'adc_b3_ch5': np.float64(1.9613404253380682), 'adc_b3_ch6': np.float64(3.840833848148845), 'adc_b3_ch7': np.float64(3.3455072911132495), 'adc_b3_ch8': np.float64(3.8311094721486803), 'adc_b3_ch9': np.float64(4.5771013438577395), 'adc_b3_ch10': np.float64(2.369274226310826), 'adc_b3_ch11': np.float64(4.048540179756879), 'adc_b3_ch12': np.float64(2.294500324127898), 'adc_b3_ch13': np.float64(3.4128794605255703), 'adc_b3_ch14': np.float64(3.084882343975706), 'adc_b3_ch15': np.float64(1.4297591545820207), 'adc_b4_ch0': np.float64(2.850740647708769), 'adc_b4_ch1': np.float64(2.217978559118741), 'adc_b4_ch2': np.float64(4.41186642937317), 'adc_b4_ch3': np.float64(3.800697373154709), 'adc_b4_ch4': np.float64(1.6976234263256709), 'adc_b4_ch5': np.float64(1.8496511596950316), 'adc_b4_ch6': np.float64(2.7356183903993316), 'adc_b4_ch7': np.float64(3.907376780561727), 'adc_b4_ch8': np.float64(10.311279529931609), 'adc_b4_ch9': np.float64(2.8144138710421998), 'adc_b4_ch10': np.float64(4.047511889036665), 'adc_b4_ch11': np.float64(4.1939071260396865)}

disk_k_phase_8 = {'adc_b1_ch1': np.float64(7.2789115369563095), 'adc_b1_ch2': np.float64(4.265674901417602), 'adc_b1_ch3': np.float64(5.577876857913603), 'adc_b1_ch4': np.float64(1.4284791180383207), 'adc_b1_ch5': np.float64(5.296731497991809), 'adc_b1_ch6': np.float64(5.340305123402381), 'adc_b1_ch7': np.float64(3.9025018950943133), 'adc_b1_ch8': np.float64(3.3290378656346564), 'adc_b1_ch9': np.float64(3.8822186148534534), 'adc_b1_ch10': np.float64(4.168288706655699), 'adc_b1_ch11': np.float64(5.630742357458182), 'adc_b1_ch12': np.float64(3.176798321389193), 'adc_b1_ch13': np.float64(2.636501478835617), 'adc_b1_ch14': np.float64(3.757620661864749), 'adc_b1_ch15': np.float64(4.631693149051081), 'adc_b2_ch0': np.float64(5.75605868430716), 'adc_b2_ch1': np.float64(4.044198013242846), 'adc_b2_ch2': np.float64(3.99218481804873), 'adc_b2_ch3': np.float64(3.5072277504822256), 'adc_b2_ch4': np.float64(2.4646066520412377), 'adc_b2_ch5': np.float64(3.66884110571994), 'adc_b2_ch6': np.float64(6.0848446058413455), 'adc_b2_ch7': np.float64(4.18533454219572), 'adc_b2_ch8': np.float64(0.6521201336279718), 'adc_b2_ch9': np.float64(4.2890391970978285), 'adc_b2_ch10': np.float64(5.604685697013938), 'adc_b2_ch11': np.float64(4.4578664102193235), 'adc_b2_ch12': np.float64(4.123483970351583), 'adc_b2_ch13': np.float64(4.08831536665447), 'adc_b2_ch14': np.float64(2.5962437226528117), 'adc_b3_ch0': np.float64(3.442589791305678), 'adc_b3_ch1': np.float64(1.8936388527946293), 'adc_b3_ch2': np.float64(3.78653538627037), 'adc_b3_ch3': np.float64(6.2590435804617695), 'adc_b3_ch4': np.float64(1.3293031896334546), 'adc_b3_ch5': np.float64(1.8722080052467223), 'adc_b3_ch6': np.float64(4.0849637960908876), 'adc_b3_ch7': np.float64(3.185307466951911), 'adc_b3_ch8': np.float64(3.8904644028598887), 'adc_b3_ch9': np.float64(4.536421799322957), 'adc_b3_ch10': np.float64(2.506765320737249), 'adc_b3_ch11': np.float64(3.8746866259034163), 'adc_b3_ch12': np.float64(2.396616695331079), 'adc_b3_ch13': np.float64(3.417212658026241), 'adc_b3_ch14': np.float64(3.246248631680017), 'adc_b3_ch15': np.float64(1.5491054050894402), 'adc_b4_ch0': np.float64(3.024495294305304), 'adc_b4_ch1': np.float64(1.846731305030325), 'adc_b4_ch2': np.float64(4.771655634275369), 'adc_b4_ch3': np.float64(3.65562375904084), 'adc_b4_ch4': np.float64(2.160685653647371), 'adc_b4_ch5': np.float64(1.9705215421138749), 'adc_b4_ch6': np.float64(2.789913065890737), 'adc_b4_ch7': np.float64(3.7017333915049524), 'adc_b4_ch8': np.float64(10.297854690969485), 'adc_b4_ch9': np.float64(2.8341494076225557), 'adc_b4_ch10': np.float64(4.088753125167594), 'adc_b4_ch11': np.float64(4.251758108079468)}

# in order of date
dicts = [disk_d_phase_3, disk_e_phase_4, disk_b_phase_6, disk_a_phase_6, disk_k_phase_8]

combined = {key: [d[key] for d in dicts] for key in dicts[0]}

# for key, value in combined.items():
#     print("Max minus min for", key, max(value) - min(value))
PMT_channel_delay_dict = {}
for key, value in combined.items():
    PMT_channel_delay_dict[key] = np.median(value)
# for key in RELEVANT_CHANNELS:
#     ordered_median_delays = []
#     for i in range(len(dicts)):
#         ordered_median_delays.append(dicts[i][key])
#     plt.plot(ordered_median_delays)
print(PMT_channel_delay_dict)
        
